{"version":3,"file":"static/js/558.86cf1800.chunk.js","mappings":"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","sources":["../node_modules/events/events.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@liqvid/recording/dist/esm/RecordingManager.mjs","../node_modules/@liqvid/recording/dist/esm/Control.mjs","../node_modules/@liqvid/utils/dist/esm/time.mjs","../node_modules/@liqvid/recording/dist/esm/recorder.mjs","../node_modules/@liqvid/recording/dist/esm/recorders/marker-recording.mjs","../node_modules/@liqvid/recording/dist/esm/recorders/audio-recording.mjs","../node_modules/@liqvid/recording/dist/esm/recorders/replay-data-recorder.mjs","../node_modules/@liqvid/recording/dist/esm/recorders/video-recording.mjs","../node_modules/@liqvid/utils/dist/esm/misc.mjs","../node_modules/@liqvid/utils/dist/esm/replay-data.mjs","../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/@lqv/cursor/dist/esm/recording.mjs"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import { bind } from \"@liqvid/utils/misc\";\nimport { EventEmitter } from \"events\";\n/**\n * Class for managing recording sessions.\n */\nexport class RecordingManager extends EventEmitter {\n    constructor() {\n        super();\n        this.captureData = {};\n        this.setMaxListeners(0);\n        this.paused = false;\n        this.active = false;\n        bind(this, [\"beginRecording\", \"endRecording\", \"pauseRecording\", \"resumeRecording\", \"capture\"]);\n    }\n    /**\n     * Begin recording.\n     *\n     * @emits start\n     */\n    beginRecording(plugins) {\n        this.plugins = plugins;\n        // initialize\n        this.pauseTime = 0;\n        this.intransigentRecorder = void 0;\n        // dependency injection for plugins\n        for (const key in this.plugins) {\n            const recorder = this.plugins[key];\n            recorder.provide({\n                push: (value) => this.capture(key, value),\n                manager: this\n            });\n            this.captureData[key] = [];\n            if (recorder.intransigent) {\n                if (this.intransigentRecorder)\n                    throw new Error(\"At most one intransigent recorder is allowed\");\n                this.intransigentRecorder = recorder;\n            }\n        }\n        // call this as close as possible to beginRecording() to minimize \"lag\"\n        this.baseTime = performance.now();\n        for (const key in this.plugins) {\n            this.plugins[key].beginRecording();\n        }\n        this.paused = false;\n        this.active = true;\n        this.emit(\"start\");\n    }\n    /**\n     * Commit a piece of recording data.\n     * @param key Key for recording source.\n     * @param value Data to record.\n     *\n     * @emits capture\n     */\n    capture(key, value) {\n        this.captureData[key].push(value);\n        this.emit(\"capture\", key, value);\n    }\n    /**\n     * End recording and collect finalized data from recorders.\n     *\n     * @emits finalize\n     */\n    async endRecording() {\n        const endTime = this.getTime();\n        this.duration = endTime;\n        const recording = {};\n        let startDelay = 0, stopDelay = 0;\n        let promise;\n        // stop intransigentRecorder\n        if (this.intransigentRecorder) {\n            promise = this.intransigentRecorder.endRecording();\n        }\n        // stop other recorders\n        for (const key in this.plugins) {\n            if (this.plugins[key] === this.intransigentRecorder)\n                continue;\n            this.plugins[key].endRecording();\n        }\n        // get start/stop delays from intransigentRecorder\n        if (this.intransigentRecorder) {\n            try {\n                const [startTime, stopTime] = await promise;\n                startDelay = startTime;\n                stopDelay = stopTime - endTime;\n                this.duration = this.duration + stopDelay - startDelay;\n            }\n            catch (e) {\n                startDelay = 0;\n                stopDelay = 0;\n                console.error(e);\n            }\n        }\n        // finalize\n        for (const key in this.plugins) {\n            recording[key] = this.plugins[key].finalizeRecording(this.captureData[key], startDelay, stopDelay);\n            this.emit(\"finalize\", key, recording[key]);\n        }\n        this.active = false;\n        this.emit(\"finalize\", undefined, undefined);\n        return recording;\n    }\n    /** Get current recording time. */\n    getTime() {\n        return performance.now() - this.baseTime - this.pauseTime;\n    }\n    /**\n     * Pause recording.\n     *\n     * @emits pause\n     */\n    pauseRecording() {\n        this.lastPauseTime = performance.now();\n        for (const key in this.plugins) {\n            this.plugins[key].pauseRecording();\n        }\n        this.paused = true;\n        this.emit(\"pause\");\n    }\n    /**\n     * Resume recording from paused state.\n     *\n     * @emits resume\n     */\n    resumeRecording() {\n        this.pauseTime += performance.now() - this.lastPauseTime;\n        for (const key in this.plugins) {\n            this.plugins[key].resumeRecording();\n        }\n        this.paused = false;\n        this.emit(\"resume\");\n    }\n}\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useCallback, useEffect, useMemo, useReducer, useRef, useState } from \"react\";\nimport { Keymap } from \"@liqvid/keymap\";\nimport { useKeymap } from \"@liqvid/keymap/react\";\nimport { onClick, useForceUpdate } from \"@liqvid/utils/react\";\nimport { RecordingManager } from \"./RecordingManager.mjs\";\nimport RecordingRow from \"./RecordingRow.mjs\";\nconst mac = navigator.platform === \"MacIntel\";\nconst bindings = {\n    start: mac ? \"Alt+Meta+2\" : \"Ctrl+Alt+2\",\n    pause: mac ? \"Alt+Meta+3\" : \"Ctrl+Alt+3\",\n    discard: mac ? \"Alt+Meta+4\" : \"Ctrl+Alt+4\"\n};\n/**\n * Liqvid recording control.\n */\nexport function RecordingControl(props) {\n    const keymap = useKeymap();\n    const [recordings, setRecordings] = useState([]);\n    const forceUpdate = useForceUpdate();\n    // recording manager\n    const manager = useRef();\n    useEffect(() => {\n        manager.current = props.manager ?? new RecordingManager();\n        manager.current.on(\"finalize\", forceUpdate);\n        manager.current.on(\"start\", forceUpdate);\n        manager.current.on(\"pause\", forceUpdate);\n        manager.current.on(\"resume\", forceUpdate);\n    }, []);\n    // active plugins\n    const activePlugins = useRef(null);\n    if (activePlugins.current === null) {\n        activePlugins.current = {};\n        for (const plugin of props.plugins) {\n            activePlugins.current[plugin.key] = false;\n        }\n    }\n    // plugins dictionary\n    const [pluginsByKey] = useState(() => {\n        const dict = {};\n        for (const plugin of props.plugins) {\n            dict[plugin.key] = plugin;\n        }\n        return dict;\n    });\n    /* commands */\n    const start = useCallback(() => {\n        const { active, beginRecording, endRecording } = manager.current;\n        if (active) {\n            endRecording().then((recording) => {\n                recording.duration = manager.current.duration;\n                setRecordings(prev => prev.concat(recording));\n            });\n        }\n        else {\n            const recorders = {};\n            for (const plugin of props.plugins) {\n                if (activePlugins.current[plugin.key]) {\n                    recorders[plugin.key] = plugin.recorder;\n                }\n            }\n            beginRecording(recorders);\n        }\n    }, []);\n    const pause = useCallback(() => {\n        const { active, paused, pauseRecording, resumeRecording } = manager.current;\n        if (active) {\n            paused ? resumeRecording() : pauseRecording();\n        }\n    }, []);\n    const discard = useCallback(async () => {\n        const { active, endRecording } = manager.current;\n        if (active) {\n            const listeners = manager.current.listeners(\"finalize\");\n            for (const listener of listeners) {\n                manager.current.off(\"finalize\", listener);\n            }\n            try {\n                await endRecording();\n            }\n            catch (e) {\n                console.error(e);\n            }\n            for (const listener of listeners) {\n                manager.current.on(\"finalize\", listener);\n            }\n            forceUpdate();\n        }\n    }, []);\n    /* keyboard controls */\n    const callbacks = useMemo(() => ({ start, pause, discard }), []);\n    const reducer = useCallback((state, action) => {\n        // rebind\n        keymap.unbind(state[action.command], callbacks[action.command]);\n        keymap.bind(action.seq, callbacks[action.command]);\n        // return new state\n        return {\n            ...state,\n            [action.command]: action.seq\n        };\n    }, []);\n    const [state, dispatch] = useReducer(reducer, bindings);\n    // initial bind\n    useEffect(() => {\n        for (const key in state) {\n            keymap.bind(state[key], callbacks[key]);\n        }\n    }, []);\n    // onBlur event, triggers rebind\n    const onBlur = useCallback((e) => {\n        e.preventDefault();\n        const name = e.currentTarget.getAttribute(\"name\");\n        // bind sequence\n        const seq = e.currentTarget.dataset.value;\n        dispatch({ command: name, seq });\n    }, []);\n    // display shortcut sequence\n    const identifyKey = useCallback((e) => {\n        e.preventDefault();\n        const seq = Keymap.identify(e);\n        e.currentTarget.dataset.value = seq;\n        e.currentTarget.value = fmtSeq(seq);\n    }, []);\n    // warn before closing if recordings exist\n    const warn = useRef(false);\n    warn.current = recordings.length > 0;\n    useEffect(() => {\n        window.addEventListener(\"beforeunload\", (e) => {\n            if (warn.current)\n                e.returnValue = \"You have recording data\";\n        });\n    }, []);\n    // show/hide control pane\n    const [paneOpen, setPaneOpen] = useState(false);\n    const togglePane = useMemo(() => onClick(() => {\n        setPaneOpen(prev => !prev);\n    }), []);\n    const dialogStyle = {\n        display: paneOpen ? \"block\" : \"none\"\n    };\n    // toggle plugin\n    const setActive = useMemo(() => onClick((e) => {\n        const key = e.currentTarget.dataset.plugin;\n        activePlugins.current[key] = !activePlugins.current[key];\n        forceUpdate();\n    }), []);\n    /* render */\n    const commands = [\n        [\"Start/Stop recording\", \"start\"],\n        [\"Pause recording\", \"pause\"],\n        [\"Discard recording\", \"discard\"]\n    ];\n    return (_jsxs(\"div\", { id: \"lv-recording\", children: [_jsxs(\"div\", { id: \"lv-recording-dialog\", style: dialogStyle, children: [_jsx(\"table\", { id: \"lv-recording-configuration\", children: _jsxs(\"tbody\", { children: [_jsx(\"tr\", { children: _jsx(\"th\", { colSpan: 2, children: \"Commands\" }) }), commands.map(([desc, key]) => (_jsxs(\"tr\", { children: [_jsx(\"th\", { scope: \"row\", children: desc }), _jsx(\"td\", { children: _jsx(\"input\", { onBlur: onBlur, readOnly: true, onKeyDown: identifyKey, className: \"shortcut\", name: key, type: \"text\", value: fmtSeq(state[key]) }) })] }, key)))] }) }), _jsx(\"h3\", { children: \"Configuration\" }), props.plugins.map((plugin) => {\n                        const classNames = [\"recorder-plugin-icon\"];\n                        if (activePlugins.current[plugin.key])\n                            classNames.push(\"active\");\n                        const styles = {};\n                        const enabled = typeof plugin.enabled === \"undefined\" || plugin.enabled();\n                        if (!enabled) {\n                            styles.opacity = 0.3;\n                        }\n                        return (_jsxs(\"div\", { className: \"recorder-plugin\", title: plugin.title, style: styles, children: [_jsxs(\"svg\", { className: classNames.join(\" \"), height: \"36\", width: \"36\", viewBox: \"0 0 100 100\", \"data-plugin\": plugin.key, ...(enabled ? setActive : {}), children: [_jsx(\"rect\", { height: \"100\", width: \"100\", fill: activePlugins.current[plugin.key] ? \"red\" : \"#222\" }), plugin.icon] }), _jsx(\"span\", { className: \"recorder-plugin-name\", children: plugin.name })] }, plugin.key));\n                    }), _jsx(\"h3\", { children: \"Saved data\" }), _jsx(\"ol\", { className: \"recordings\", children: recordings.map((recording, i) => (_jsx(RecordingRow, { data: recording, pluginsByKey: pluginsByKey }, i))) })] }), _jsx(\"svg\", { height: \"36\", width: \"36\", viewBox: \"-50 -50 100 100\", ...togglePane, children: _jsx(\"circle\", { cx: \"0\", cy: \"0\", r: \"35\", stroke: \"white\", strokeWidth: \"5\", fill: manager.current?.active ? (manager.current?.paused ? \"yellow\" : \"red\") : \"#666\" }) })] }));\n}\n/** Format key sequences with special characters on Mac */\nfunction fmtSeq(str) {\n    if (navigator.platform !== \"MacIntel\")\n        return str;\n    if (str === void 0)\n        return str;\n    return str.split(\"+\").map(k => {\n        if (k === \"Ctrl\")\n            return \"^\";\n        else if (k === \"Alt\")\n            return \"\";\n        if (k === \"Shift\")\n            return \"\";\n        if (k === \"Meta\")\n            return \"\";\n        return k;\n    }).join(\"\");\n}\n","/* time constants */\nconst SECONDS = 1000;\nconst MINUTES = 60 * SECONDS;\nconst HOURS = 60 * MINUTES;\nconst DAYS = 24 * HOURS;\n// nice minus sign\nconst MINUS_SIGN = \"\\u2212\";\n/**\n * Regular expression used to match times\n */\nexport const timeRegexp = new RegExp(\"^\" + \"(?:(\\\\d+):)?\".repeat(3) + \"(\\\\d+)(?:\\\\.(\\\\d+))?$\");\n/**\n * Parse a time string like \"3:43\" into milliseconds\n * @param str String to parse\n * @returns Time in milliseconds\n */\nexport function parseTime(str) {\n    if (str[0] === MINUS_SIGN || str[0] === \"-\") {\n        return -parseTime(str.slice(1));\n    }\n    // d, h, m, s\n    const parts = str.split(\":\").map((x) => parseInt(x, 10));\n    while (parts.length < 4) {\n        parts.unshift(0);\n    }\n    // ms\n    const $_ = str.match(/\\.(\\d{0,3})/);\n    if ($_) {\n        parts.push(parseInt($_[1].padEnd(3, \"0\")));\n    }\n    else {\n        parts.push(0);\n    }\n    const [days, hours, minutes, seconds, milliseconds] = parts;\n    return (milliseconds + 1000 * (seconds + 60 * (minutes + 60 * (hours + 24 * days))));\n}\n/**\n * Format a duration as a {@link https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#valid-duration-string time duration string}\n * for use as a {@link https://html.spec.whatwg.org/multipage/text-level-semantics.html#attr-time-datetime datetime} attribute.\n * @param time Duration in milliseconds.\n * @returns A duration string such as \"PT4H18M3S\".\n * @since 1.7.0\n */\nexport function formatTimeDuration(time) {\n    const parts = [\"P\"];\n    const timeParts = [];\n    const days = Math.floor(time / DAYS), hours = Math.floor((time / HOURS) % 24), minutes = Math.floor((time / MINUTES) % 60), seconds = (time / SECONDS) % 60;\n    if (days > 0) {\n        parts.push(`${days}D`);\n    }\n    if (hours > 0) {\n        timeParts.push(`${hours}H`);\n    }\n    if (minutes > 0) {\n        timeParts.push(`${minutes}M`);\n    }\n    if (seconds > 0) {\n        timeParts.push(`${seconds.toFixed(3).replace(/\\.?0+$/, \"\")}S`);\n    }\n    if (timeParts.length > 0) {\n        parts.push(\"T\", ...timeParts);\n    }\n    return parts.join(\"\");\n}\n/**\n * Format a time as \"mm:ss\"\n * @param time Time in milliseconds\n * @returns Formatted time\n */\nexport function formatTime(time) {\n    if (time < 0) {\n        return MINUS_SIGN + formatTime(-time);\n    }\n    const days = Math.floor(time / DAYS), hours = Math.floor((time / HOURS) % 24), minutes = Math.floor((time / MINUTES) % 60), seconds = Math.floor((time / SECONDS) % 60);\n    let firstNonzero = true;\n    let str = \"\";\n    for (const part of [days, hours, minutes]) {\n        if (firstNonzero) {\n            if (part !== 0) {\n                firstNonzero = false;\n                str += part.toString() + \":\";\n            }\n        }\n        else {\n            str += part.toString().padStart(2, \"0\") + \":\";\n        }\n    }\n    // display 0:ss\n    if (firstNonzero) {\n        str += \"0:\";\n    }\n    str += seconds.toString().padStart(2, \"0\");\n    return str;\n}\n/**\n * Format a time as \"mm:ss.ms\"\n * @param time Time in milliseconds\n * @returns Formatted time\n */\nexport function formatTimeMs(time) {\n    if (time < 0) {\n        return MINUS_SIGN + formatTimeMs(-time);\n    }\n    const milliseconds = Math.floor(time % 1000);\n    if (milliseconds === 0) {\n        return formatTime(time);\n    }\n    return (formatTime(time) +\n        \".\" +\n        String(milliseconds).padStart(3, \"0\").replace(/0+$/, \"\"));\n}\n","/**\n * Abstract class for recording interactions.\n */\nexport class Recorder {\n    constructor() {\n        /**\n        A recorder is intransigent if it cannot be started immediately (e.g. AudioRecorder).\n        */\n        this.intransigent = false;\n    }\n    /** Begin recording. */\n    beginRecording() { }\n    /** Pause recording. */\n    pauseRecording() { }\n    /** Resume recording from paused. */\n    resumeRecording() { }\n    /** End recording. */\n    endRecording() { }\n    finalizeRecording(data, startDelay = 0, stopDelay = 0) {\n        return data;\n    }\n    provide({ push, manager }) {\n        this.push = push;\n        this.manager = manager;\n    }\n    getUpdate(data, lastDuration) { }\n}\n","import { jsx as _jsx, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { bind } from \"@liqvid/utils/misc\";\nimport { formatTimeMs } from \"@liqvid/utils/time\";\nimport { Recorder } from \"../recorder.mjs\";\nconst icon = (_jsx(\"text\", { fill: \"#FFF\", fontFamily: \"Helvetica\", fontSize: \"75\", textAnchor: \"middle\", x: \"50\", y: \"75\", children: \"M\" }));\nexport class MarkerRecorder extends Recorder {\n    constructor() {\n        super();\n        bind(this, [\"onMarkerUpdate\"]);\n    }\n    beginRecording() {\n        this.lastTime = 0;\n        this.script.on(\"markerupdate\", this.onMarkerUpdate);\n    }\n    endRecording() {\n        this.script.off(\"markerupdate\", this.onMarkerUpdate);\n        this.captureMarker(this.script.markerName);\n    }\n    finalizeRecording(data, startDelay, stopDelay) {\n        data[0][1] -= startDelay;\n        data[data.length - 1][1] += stopDelay;\n        return data.map(cue => [cue[0], formatTimeMs(cue[1])]);\n    }\n    onMarkerUpdate(prevIndex) {\n        if (this.manager.paused)\n            return;\n        this.captureMarker(this.script.markers[prevIndex][0]);\n    }\n    captureMarker(markerName) {\n        const t = this.manager.getTime();\n        this.push([markerName, t - this.lastTime]);\n        this.lastTime = t;\n    }\n}\nexport function MarkerSaveComponent(props) {\n    return (_jsx(_Fragment, { children: _jsx(\"textarea\", { readOnly: true, value: format(props.data) }) }));\n}\nexport const MarkerRecording = {\n    icon,\n    key: \"markers\",\n    name: \"Markers\",\n    recorder: new MarkerRecorder,\n    saveComponent: MarkerSaveComponent\n};\nfunction format(data) {\n    return JSON.stringify(data, null, 2).replace(/\\[\\s+\"(.+?)\",\\s+\"(.+?)\"\\s+\\]/g, \"[\\\"$1\\\", \\\"$2\\\"]\");\n}\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { Recorder } from \"../recorder.mjs\";\nconst icon = (_jsx(\"g\", { transform: \"scale(0.126261032057) translate(164.575)\", children: _jsxs(\"g\", { stroke: \"#FFF\", transform: \"translate(-140.62 -173.21)\", children: [_jsx(\"path\", { d: \"m568.57 620.93c0 116.77-94.66 211.43-211.43 211.43s-211.43-94.66-211.43-211.43v-0.00001\", fillOpacity: \"0\", transform: \"translate(14.904)\", strokeLinecap: \"round\", strokeWidth: \"20\" }), _jsx(\"path\", { d: \"m568.57 620.93c0 116.77-94.66 211.43-211.43 211.43s-211.43-94.66-211.43-211.43v-0.00001\", fillOpacity: \"0\", transform: \"translate(14.904)\", strokeLinecap: \"round\", strokeWidth: \"40\" }), _jsx(\"path\", { d: \"m372.05 832.36v114.29\", strokeWidth: \"30\", fill: \"none\" }), _jsx(\"path\", { fill: \"#FFF\", d: \"m197.14 920.93c0.00001-18.935 59.482-34.286 132.86-34.286 73.375 0 132.86 15.35 132.86 34.286z\", transform: \"translate(42.047 34.286)\", strokeLinecap: \"round\", strokeWidth: \"20\" }), _jsx(\"path\", { fill: \"#FFF\", strokeWidth: \"21.455\", strokeLinecap: \"round\", d: \"m372.06 183.94c-77.019-0.00001-139.47 62.45-139.47 139.47v289.62c0 77.019 62.45 139.47 139.47 139.47 77.019 0 139.44-62.45 139.44-139.47v-289.62c0-77.02-62.42-139.47-139.44-139.47z\" })] }) }));\nexport class AudioRecorder extends Recorder {\n    constructor() {\n        super(...arguments);\n        this.requested = false;\n        this.intransigent = true;\n    }\n    beginRecording() {\n        if (!this.stream)\n            throw new Error(\"Navigator stream not available\");\n        this.promise = new Promise(async (resolve, reject) => {\n            // record the audio\n            this.mediaRecorder = new MediaRecorder(this.stream, { mimeType: \"audio/webm\" });\n            // subscribe to events\n            this.mediaRecorder.addEventListener(\"dataavailable\", e => {\n                this.push(e.data);\n            });\n            let startDelay;\n            this.mediaRecorder.addEventListener(\"start\", () => {\n                startDelay = this.manager.getTime();\n            });\n            this.mediaRecorder.addEventListener(\"stop\", () => {\n                resolve([startDelay, this.manager.getTime()]);\n            });\n            this.mediaRecorder.start();\n        });\n    }\n    pauseRecording() {\n        this.mediaRecorder.pause();\n    }\n    resumeRecording() {\n        this.mediaRecorder.resume();\n    }\n    async endRecording() {\n        this.mediaRecorder.stop();\n        return this.promise;\n    }\n    finalizeRecording(chunks) {\n        return new Blob(chunks, { type: \"audio/webm\" });\n    }\n    requestRecording() {\n        // be idempotent\n        if (this.requested)\n            return;\n        const request = async () => {\n            // Only need to do this once...\n            window.removeEventListener(\"click\", request);\n            try {\n                this.stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n            }\n            catch (e) {\n                // User said no or browser rejected request due to insecure context\n                console.log(\"no recording allowed\");\n            }\n        };\n        // Need user interaction to request media\n        window.addEventListener(\"click\", request);\n        this.requested = true;\n    }\n}\nexport function AudioSaveComponent(props) {\n    return (_jsx(_Fragment, { children: props.data ?\n            _jsx(\"a\", { download: \"audio.webm\", href: URL.createObjectURL(props.data), children: \"Download Audio\" })\n            :\n                \"Audio not yet available\" }));\n}\nconst recorder = new AudioRecorder();\nexport const AudioRecording = {\n    enabled: () => {\n        if (typeof recorder.stream === \"undefined\") {\n            recorder.requestRecording();\n            return false;\n        }\n        return true;\n    },\n    icon,\n    key: \"audio\",\n    name: \"Audio\",\n    recorder,\n    saveComponent: AudioSaveComponent,\n    title: \"Record audio\"\n};\n","import { Recorder } from \"../recorder.mjs\";\nexport class ReplayDataRecorder extends Recorder {\n    constructor() {\n        super();\n        this.duration = 0;\n    }\n    beginRecording() {\n        this.duration = 0;\n    }\n    finalizeRecording(data, startDelay = 0, stopDelay = 0) {\n        // for (let sum = 0, i = 0; i < data.length && sum < startDelay; ++i) {\n        //   const dur = data[i][0];\n        //   if (dur === 0) {\n        //     continue;\n        //   }\n        //   if (sum + dur >= startDelay) {\n        //     data[i][0] -= startDelay - sum;\n        //     break;\n        //   }\n        //   sum += dur;\n        //   // data.splice(i, 1);\n        //   --i;\n        // }\n        // console.log(JSON.stringify(data, null, 2));\n        return compress(data);\n    }\n    capture(time = this.manager.getTime(), data) {\n        if (time - this.duration < 0) {\n            // console.error(time, this.duration, data);\n        }\n        this.push([time - this.duration, data]);\n        this.duration = time;\n    }\n}\n/**\n * Truncate numerical precision to reduce filesize.\n * @param o Data to compress.\n * @param precision Number of decimal points to include.\n */\nexport function compress(o, precision = 2) {\n    switch (typeof o) {\n        case \"object\":\n            if (o instanceof Array) {\n                return o.map(val => compress(val, precision));\n            }\n            return Object.fromEntries(Object.keys(o).map(key => [key, compress(o[key], precision)]));\n        case \"number\":\n            return parseFloat(o.toFixed(precision));\n        default:\n            return o;\n    }\n}\n","import { jsx as _jsx, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { Recorder } from \"../recorder.mjs\";\nconst icon = (_jsx(\"path\", { fill: \"#FFF\", d: \"M35.113 14.703a4.558 4.558 0 0 0-4.568 4.568v2.338h-11.29A13.146 13.146 0 0 0 6.082 34.787v37.018a13.142 13.142 0 0 0 13.173 13.172H80.74a13.147 13.147 0 0 0 13.178-13.172V34.787A13.146 13.146 0 0 0 80.74 21.61H69.455v-2.338a4.558 4.558 0 0 0-4.568-4.568H35.113ZM50 31.196c12.18 0 22.103 9.917 22.103 22.097 0 12.18-9.923 22.103-22.103 22.103-12.181 0-22.103-9.923-22.103-22.103 0-12.18 9.922-22.097 22.103-22.097Zm-30.073.835a4.59 4.59 0 0 1 4.59 4.59h.006a4.59 4.59 0 1 1-4.595-4.59ZM50 35.536a17.721 17.721 0 0 0-17.757 17.757A17.722 17.722 0 0 0 50 71.05a17.723 17.723 0 0 0 17.757-17.757A17.722 17.722 0 0 0 50 35.536Z\" }));\nexport class VideoRecorder extends Recorder {\n    constructor() {\n        super(...arguments);\n        this.requested = false;\n        this.intransigent = true;\n    }\n    beginRecording() {\n        if (!this.stream)\n            throw new Error(\"Navigator stream not available\");\n        this.promise = new Promise(async (resolve) => {\n            // record the video\n            this.mediaRecorder = new MediaRecorder(this.stream, { mimeType: \"video/webm\" });\n            // subscribe to events\n            this.mediaRecorder.addEventListener(\"dataavailable\", e => {\n                this.push(e.data);\n            });\n            let startDelay;\n            this.mediaRecorder.addEventListener(\"start\", () => {\n                startDelay = this.manager.getTime();\n            });\n            this.mediaRecorder.addEventListener(\"stop\", () => {\n                resolve([startDelay, this.manager.getTime()]);\n            });\n            this.mediaRecorder.start();\n        });\n    }\n    pauseRecording() {\n        this.mediaRecorder.pause();\n    }\n    resumeRecording() {\n        this.mediaRecorder.resume();\n    }\n    async endRecording() {\n        this.mediaRecorder.stop();\n        return this.promise;\n    }\n    finalizeRecording(chunks) {\n        return new Blob(chunks, { type: \"video/webm\" });\n    }\n    requestRecording() {\n        // be idempotent\n        if (this.requested)\n            return;\n        const request = async () => {\n            // Only need to do this once...\n            window.removeEventListener(\"click\", request);\n            try {\n                this.stream = await navigator.mediaDevices.getUserMedia({ audio: true, video: true });\n            }\n            catch (e) {\n                // User said no or browser rejected request due to insecure context\n                console.log(\"no recording allowed\");\n            }\n        };\n        // Need user interaction to request media\n        window.addEventListener(\"click\", request);\n    }\n}\nexport function VideoSaveComponent(props) {\n    return (_jsx(_Fragment, { children: props.data ?\n            _jsx(\"a\", { download: \"video.webm\", href: URL.createObjectURL(props.data), children: \"Download Video\" })\n            :\n                \"Video not yet available\" }));\n}\nconst recorder = new VideoRecorder();\nexport const VideoRecording = {\n    enabled: () => {\n        if (typeof recorder.stream === \"undefined\") {\n            recorder.requestRecording();\n            return false;\n        }\n        return true;\n    },\n    icon,\n    key: \"video\",\n    name: \"Video\",\n    recorder,\n    saveComponent: VideoSaveComponent,\n    title: \"Record video\"\n};\n","/** Equivalent to `(min <= val) && (val < max)`. */\nexport function between(min, val, max) {\n    return min <= val && val < max;\n}\n/**\n * Bind methods on an object.\n * @param o Object on which to bind methods\n * @param methods Method names to bind\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function bind(o, methods) {\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    for (const method of methods)\n        o[method] = o[method].bind(o);\n}\n/**\n * Linear interpolation from a to b.\n */\nexport function lerp(a, b, t) {\n    return a + t * (b - a);\n}\n/**\n * Clamps a value between a lower and upper bound. Aliased as {@link constrain}.\n * @param min Lower bound\n * @param val Value to clamp\n * @param max Upper bound\n */\nexport function clamp(min, val, max) {\n    return Math.min(max, Math.max(min, val));\n}\n/**\n * Clamps a value between a lower and upper bound. Alias for {@link clamp}.\n * @param min Lower bound\n * @param val Value to clamp\n * @param max Upper bound\n */\nexport function constrain(min, val, max) {\n    return clamp(min, val, max);\n}\n/**\n  Returns [a, b). For backwards compatibility, returns [0, a) if passed a single argument.\n*/\nexport function range(a, b) {\n    if (b === void 0) {\n        return range(0, a);\n    }\n    return new Array(b - a).fill(null).map((_, i) => a + i);\n}\n/** Returns a Promise that resolves in `time` milliseconds. */\nexport function wait(time) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, time);\n    });\n}\n/** Returns a Promise that resolves once `callback` returns true. */\nexport function waitFor(callback, interval = 10) {\n    return new Promise((resolve) => {\n        const checkCondition = () => {\n            if (callback()) {\n                resolve();\n            }\n            else {\n                setTimeout(checkCondition, interval);\n            }\n        };\n        checkCondition();\n    });\n}\n","/**\n * Concatenate several ReplayData together, with delays.\n * @param args [ReplayData, delay] objects to join\n * @returns Concatenated replay data\n */\nexport function concat(...args) {\n    const [head, ...tail] = args;\n    const ret = [...head[0]];\n    let ptr = head[1] + length(head[0]);\n    for (const [data, start] of tail) {\n        const copy = data.slice();\n        copy[0][0] += start - ptr;\n        ret.push(...copy);\n        ptr += length(copy);\n    }\n    return ret;\n}\n/**\n * Get the total duration of replay data.\n * @param data ReplayData item\n * @returns Duration of replay data\n */\nexport function length(data) {\n    return data.map((_) => _[0]).reduce((a, b) => a + b, 0);\n}\n","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { compress, ReplayDataRecorder } from \"@liqvid/recording\";\nimport { bind } from \"@liqvid/utils/misc\";\nexport class CursorRecorder extends ReplayDataRecorder {\n    /** Container element for recording. */\n    target = document.body;\n    constructor() {\n        super();\n        bind(this, [\"captureMouse\"]);\n    }\n    beginRecording() {\n        // DO NOT FORGET TO CALL super\n        super.beginRecording();\n        document.body.addEventListener(\"mousemove\", this.captureMouse);\n    }\n    endRecording() {\n        document.body.removeEventListener(\"mousemove\", this.captureMouse);\n    }\n    captureMouse(e) {\n        const t = this.manager.getTime();\n        if (this.manager.paused)\n            return;\n        const { left, top, height, width } = this.target.getBoundingClientRect();\n        this.capture(t, [((e.pageX - left) / width) * 100, ((e.pageY - top) / height) * 100]);\n    }\n    finalizeRecording(data) {\n        return compress(data, 4);\n    }\n}\nconst CursorSaveComponent = (props) => {\n    return (_jsx(_Fragment, { children: props.data ? (_jsx(\"textarea\", { readOnly: true, value: JSON.stringify(props.data) })) : (\"Cursor data not yet available.\") }));\n};\nconst icon = (_jsxs(\"g\", { children: [_jsx(\"line\", { x1: \"0\", x2: \"100\", y1: \"50\", y2: \"50\", stroke: \"#FFF\" }), _jsx(\"line\", { x1: \"50\", x2: \"50\", y1: \"0\", y2: \"100\", stroke: \"#FFF\" })] }));\nexport const CursorRecording = {\n    icon,\n    key: \"cursor\",\n    name: \"Cursor\",\n    recorder: new CursorRecorder(),\n    saveComponent: CursorSaveComponent,\n    title: \"Record cursor\",\n};\n"],"names":["ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","this","module","exports","once","emitter","name","Promise","resolve","reject","errorListener","err","removeListener","resolver","slice","arguments","eventTargetAgnosticAddListener","handler","flags","on","addErrorHandlerIfEventEmitter","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","create","newListener","emit","unshift","push","length","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","addEventListener","wrapListener","arg","removeEventListener","defineProperty","enumerable","get","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","len","listeners","addListener","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","_assertThisInitialized","self","ReferenceError","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","isArray","F","s","done","e","_e","f","normalCompletion","didErr","step","next","_e2","_possibleConstructorReturn","assertThisInitialized","_createSuper","Derived","hasNativeReflectConstruct","construct","sham","Proxy","Boolean","valueOf","result","Super","NewTarget","constructor","_defineProperty","obj","_getPrototypeOf","setPrototypeOf","__proto__","_setPrototypeOf","p","_inherits","subClass","superClass","_slicedToArray","_i","_s","_arr","_n","_d","unsupportedIterableToArray","_typeof","_arrayLikeToArray","arr2","_unsupportedIterableToArray","minLen","toString","from","test","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","method","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","fn","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","__await","then","unwrapped","previousPromise","callInvokeWithMethodAndArg","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","iter","object","reverse","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","RecordingManager","captureData","paused","active","plugins","pauseTime","intransigentRecorder","recorder","provide","capture","manager","intransigent","baseTime","performance","now","beginRecording","endTime","getTime","duration","recording","startDelay","stopDelay","promise","endRecording","startTime","stopTime","finalizeRecording","lastPauseTime","pauseRecording","resumeRecording","navigator","platform","SECONDS","MINUTES","HOURS","DAYS","RegExp","repeat","formatTime","time","days","Math","floor","hours","minutes","seconds","firstNonzero","str","part","padStart","formatTimeMs","milliseconds","replace","Recorder","data","lastDuration","_jsx","fill","fontFamily","fontSize","textAnchor","x","y","children","lastTime","script","onMarkerUpdate","captureMarker","markerName","map","cue","prevIndex","markers","t","transform","_jsxs","stroke","d","fillOpacity","strokeLinecap","strokeWidth","AudioRecorder","requested","stream","mediaRecorder","MediaRecorder","mimeType","start","pause","resume","chunks","Blob","request","window","mediaDevices","getUserMedia","audio","log","ReplayDataRecorder","compress","precision","val","fromEntries","parseFloat","toFixed","VideoRecorder","video","methods","_","reduce","a","b","_superPropBase","property","_get","base","desc","getOwnPropertyDescriptor","CursorRecorder","document","body","captureMouse","getBoundingClientRect","left","top","height","width","pageX","pageY","x1","x2","y1","y2"],"sourceRoot":""}