!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("React"),require("Liqvid")):"function"==typeof define&&define.amd?define(["React","Liqvid"],r):"object"==typeof exports?exports.Liqvid_MathJax=r(require("React"),require("Liqvid")):e.Liqvid_MathJax=r(e.React,e.Liqvid)}(self,((e,r)=>(()=>{"use strict";var t={830:(e,r,t)=>{var n=t(24),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function i(e,r,t){var n,a={},i=null,f=null;for(n in void 0!==t&&(i=""+t),void 0!==r.key&&(i=""+r.key),void 0!==r.ref&&(f=r.ref),r)c.call(r,n)&&!u.hasOwnProperty(n)&&(a[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps)void 0===a[n]&&(a[n]=r[n]);return{$$typeof:o,type:e,key:i,ref:f,props:a,_owner:s.current}}r.jsx=i},293:(e,r,t)=>{e.exports=t(830)},290:e=>{e.exports=r},24:r=>{r.exports=e}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{o.r(a),o.d(a,{MJX:()=>d,MJXText:()=>y,MathJaxReady:()=>t,RenderGroup:()=>h});const e=MathJax._.components.package.Package.packages,r=Array.from(e.keys()).filter((e=>"output/svg"!==e)),t=Promise.all([MathJax.loader.ready(...r),MathJax.startup.promise]);var n=o(293),c=o(24);function s(...e){return r=>{for(const t of e)"function"==typeof t?t(r):null===t||"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=r)}}function u(e,r){return c.Children.map(e,(e=>(0,c.isValidElement)(e)?("children"in e.props&&(e=(0,c.cloneElement)(e,{children:u(e.props.children,r)})),r(e)):e))}function i(e=[]){const r=(0,c.useRef)(),t=(0,c.useRef)();return[(0,c.useMemo)((()=>new Promise(((e,n)=>{r.current=e,t.current=n}))),e),r.current,t.current]}var f=o(290);const l=(0,c.forwardRef)((function(e,r){const{children:o,display:a=!1,resize:s=!1,span:u=!1,...f}=e,l=(0,c.useRef)(),[p,d]=i();(0,c.useEffect)((()=>{t.then((()=>{if(MathJax.typeset([l.current]),!u){const e=l.current.firstElementChild;for(let r=0,t=l.current.classList.length;r<t;++r)e.classList.add(l.current.classList.item(r));Object.assign(e.dataset,l.current.dataset),l.current.replaceWith(e),l.current=e}d()}))}),[o]),(0,c.useImperativeHandle)(r,(()=>({get domElement(){return l.current},ready:p})));const[y,h]=a?["\\[","\\]"]:["\\(","\\)"];return(0,n.jsx)("span",{...f,ref:l,children:y+o+h})}));const p=(0,c.forwardRef)((function(e,r){const t=(0,c.useRef)(),n=s(t,r);(0,c.useEffect)((()=>{MathJax.startup.promise.then((()=>{MathJax.typeset([t.current])}))}),[]);const{tagName:o="p",children:a,...u}=e;return(0,c.createElement)(o,{...u,ref:n},a)})),d=(0,c.forwardRef)((function(e,r){const{obstruct:t="canplay canplaythrough",reparse:o=!1,...a}=e,u=(0,c.useRef)(),i=s(u,r),p=(0,f.usePlayer)();return(0,c.useEffect)((()=>{const e=t.split(" ");e.includes("canplay")&&p.obstruct("canplay",u.current.ready),e.includes("canplaythrough")&&p.obstruct("canplaythrough",u.current.ready),o&&u.current.ready.then((()=>p.reparseTree(u.current.domElement)))}),[]),(0,n.jsx)(l,{ref:i,...a})})),y=(0,c.forwardRef)((function(e,r){const{...t}=e;return(0,n.jsx)(p,{tagName:"p",...t})})),h=(0,c.forwardRef)((function(e,r){const[t,n]=i();(0,c.useImperativeHandle)(r,(()=>({ready:t})));const o=(0,c.useRef)([]),a=(0,c.useRef)([]),s=(0,f.usePlayer)();return(0,c.useEffect)((()=>{Promise.all(a.current).then((()=>{e.reparse&&s.reparseTree(function(e){if(0===e.length)throw new Error("Must pass at least one element");let r=e[0],t=e.slice(1);for(;t.length>0;)r=r.parentElement,t=t.filter((e=>!r.contains(e)));return r}(o.current)),n()}))}),[]),u(e.children,(e=>{if(function(e){return(0,c.isValidElement)(e)&&"object"==typeof e.type&&(e.type===d||e.type===l)}(e)){const r=e.ref;return(0,c.cloneElement)(e,{ref:e=>{e&&(o.current.push(e.domElement),a.current.push(e.ready),"function"==typeof r?r(e):r&&"object"==typeof r&&(r.current=e))}})}return e}))}))})(),a})()));