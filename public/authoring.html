<h1>Authoring</h1>

<h2>Forms</h2>
In order for a component to receive keyboard input, you need to disable the keyboard controls. There is also a strange bug in iOS Safari where input components need to be manually focused.

<pre><code class="language-tsx">
import {useCallback, useState} from "react";
import {Utils, usePlayer} from "ractive-player";
const {onClick} = Utils.mobile;

function Form() {
  const player = usePlayer();
  const [value, setValue] = useState("Alice");
  const handler = useCallback((e: React.ChangeEvent&lt;HTMLInputElement&gt;) => setValue(e.target.value), []);

  return (
    &lt;form&gt;
      &lt;input
        {...onClick((e: React.SyntheticEvent&lt;HTMLInputElement&gt;) => e.currentTarget.focus())}
        onBlur={player.resumeKeyCapture} onFocus={player.suspendKeyCapture}
        onChange={handler} value={value}/&gt;
    &lt;/form&gt;
  );
}
</code></pre>

<h2>Mobile</h2>

<h3>Fat fingers</h3>

Controls need a larger clickable area on mobile. You can use the following to increase the clickable area of an HTML component:

<pre><code class="language-css">
.fat-fingers {
  position: relative;
}
    
.fat-fingers::after {
  content: "";
  position: absolute;
  top: -10px;
  bottom: -10px;
  left: -10px;
  right: -10px;
}
</code></pre>

We learned this trick from <a href="https://front-back.com/expand-clickable-areas-for-a-better-touch-experience/">https://front-back.com/expand-clickable-areas-for-a-better-touch-experience/</a>.

For SVG components, such as a <code class="language-tsx">&lt;circle/&gt;</code>, you can use a duplicate element which is a bit larger and has <code class="language-css">fill: transparent</code>.

<h3>Click events</h3>

Click events do not work reliably on mobile devices; one should use touch events instead. We provide an <a class="todo">onClick</a> helper for this.

<h3>Scroll events</h3>

<p>On mobile, <code>Player</code> intercepts <code>touchmove</code> events to prevent scrolling of the window. This can cause problems with scrolling in elements with <code class="language-css">overflow: auto</code> and variants. To ensure an element can be scrolled, write</p>

<pre><code class="language-tsx">
&lt;div onTouchMove={Player.allowScroll}&gt;
</code></pre>
